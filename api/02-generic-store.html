<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Generic Store | heliosRX (v0.2.2)</title>
    <meta name="description" content="Examples of useful vuepress code">
    <link rel="icon" href="/logo-small.png">
    
    <link rel="preload" href="/assets/css/0.styles.8ab8f5b5.css" as="style"><link rel="preload" href="/assets/js/app.9cea187b.js" as="script"><link rel="preload" href="/assets/js/2.966b6269.js" as="script"><link rel="preload" href="/assets/js/13.b7ff5118.js" as="script"><link rel="prefetch" href="/assets/js/10.68ebee34.js"><link rel="prefetch" href="/assets/js/11.9b043bc5.js"><link rel="prefetch" href="/assets/js/12.538926f4.js"><link rel="prefetch" href="/assets/js/14.b0d436de.js"><link rel="prefetch" href="/assets/js/15.f236455c.js"><link rel="prefetch" href="/assets/js/16.4905663e.js"><link rel="prefetch" href="/assets/js/17.b516c150.js"><link rel="prefetch" href="/assets/js/18.827f6262.js"><link rel="prefetch" href="/assets/js/19.d3050049.js"><link rel="prefetch" href="/assets/js/20.1e3402e4.js"><link rel="prefetch" href="/assets/js/21.ff247596.js"><link rel="prefetch" href="/assets/js/22.62241f8c.js"><link rel="prefetch" href="/assets/js/23.47fdb8ed.js"><link rel="prefetch" href="/assets/js/24.47632db1.js"><link rel="prefetch" href="/assets/js/25.a9587632.js"><link rel="prefetch" href="/assets/js/26.c28ec226.js"><link rel="prefetch" href="/assets/js/27.9c7eee1c.js"><link rel="prefetch" href="/assets/js/28.08c5c4cf.js"><link rel="prefetch" href="/assets/js/29.7534d527.js"><link rel="prefetch" href="/assets/js/3.1f8eeeab.js"><link rel="prefetch" href="/assets/js/30.5133efd5.js"><link rel="prefetch" href="/assets/js/31.41ea5ef6.js"><link rel="prefetch" href="/assets/js/32.fd0395b6.js"><link rel="prefetch" href="/assets/js/33.fc039ff5.js"><link rel="prefetch" href="/assets/js/34.94208c93.js"><link rel="prefetch" href="/assets/js/35.afe27088.js"><link rel="prefetch" href="/assets/js/36.2de1a476.js"><link rel="prefetch" href="/assets/js/37.51f5cac0.js"><link rel="prefetch" href="/assets/js/38.399f8400.js"><link rel="prefetch" href="/assets/js/39.0aac1859.js"><link rel="prefetch" href="/assets/js/4.c6bf86ff.js"><link rel="prefetch" href="/assets/js/40.12602c68.js"><link rel="prefetch" href="/assets/js/41.c6b2e28b.js"><link rel="prefetch" href="/assets/js/42.a80843cd.js"><link rel="prefetch" href="/assets/js/43.ae07a06a.js"><link rel="prefetch" href="/assets/js/44.b637e005.js"><link rel="prefetch" href="/assets/js/45.dc2b274f.js"><link rel="prefetch" href="/assets/js/46.020d56b2.js"><link rel="prefetch" href="/assets/js/5.e196fe67.js"><link rel="prefetch" href="/assets/js/6.b96628b3.js"><link rel="prefetch" href="/assets/js/7.f37f7752.js"><link rel="prefetch" href="/assets/js/8.bab95a10.js"><link rel="prefetch" href="/assets/js/9.f5b2cebf.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8ab8f5b5.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo-small.png" alt="heliosRX (v0.2.2)" class="logo"> <span class="site-name can-hide">heliosRX (v0.2.2)</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/01-intro.html" class="nav-link">Guide</a></div><div class="nav-item"><a href="/api/" class="nav-link router-link-active">API</a></div><div class="nav-item"><a href="/tips/01-designing-good-security-rules.html" class="nav-link">Tips</a></div> <a href="https://github.com/heliosRX/heliosRX" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/01-intro.html" class="nav-link">Guide</a></div><div class="nav-item"><a href="/api/" class="nav-link router-link-active">API</a></div><div class="nav-item"><a href="/tips/01-designing-good-security-rules.html" class="nav-link">Tips</a></div> <a href="https://github.com/heliosRX/heliosRX" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/api/" class="sidebar-link">Overview</a></li><li><a href="/api/01-setup.html" class="sidebar-link">HeliosRX setup</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/api/01-setup.html#setup-frontend" class="sidebar-link">Setup Frontend</a></li><li class="sidebar-sub-header"><a href="/api/01-setup.html#setup-backend-node-js" class="sidebar-link">Setup Backend (Node.js)</a></li></ul></li><li><a href="/api/02-generic-store.html" class="active sidebar-link">Generic Store</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/api/02-generic-store.html#instance-constructor" class="sidebar-link">Instance Constructor</a></li><li class="sidebar-sub-header"><a href="/api/02-generic-store.html#instance-properties" class="sidebar-link">Instance Properties</a></li><li class="sidebar-sub-header"><a href="/api/02-generic-store.html#instance-methods" class="sidebar-link">Instance Methods</a></li><li class="sidebar-sub-header"><a href="/api/02-generic-store.html#instance-methods-writing" class="sidebar-link">Instance Methods (Writing)</a></li><li class="sidebar-sub-header"><a href="/api/02-generic-store.html#instance-methods-reading" class="sidebar-link">Instance Methods (Reading)</a></li><li class="sidebar-sub-header"><a href="/api/02-generic-store.html#static-methods" class="sidebar-link">Static Methods</a></li></ul></li><li><a href="/api/03-schema-definition.html" class="sidebar-link">Model definition</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/api/03-schema-definition.html#schema-definition" class="sidebar-link">Schema definition</a></li><li class="sidebar-sub-header"><a href="/api/03-schema-definition.html#field-properties" class="sidebar-link">Field properties</a></li><li class="sidebar-sub-header"><a href="/api/03-schema-definition.html#store-getters-and-actions" class="sidebar-link">Store Getters and Actions</a></li><li class="sidebar-sub-header"><a href="/api/03-schema-definition.html#model-getters-and-actions" class="sidebar-link">Model Getters and Actions</a></li><li class="sidebar-sub-header"><a href="/api/03-schema-definition.html#list-getters-and-actions" class="sidebar-link">List Getters and actions</a></li></ul></li><li><a href="/api/04-generic-model.html" class="sidebar-link">Generic Model</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/api/04-generic-model.html#properties" class="sidebar-link">Properties</a></li><li class="sidebar-sub-header"><a href="/api/04-generic-model.html#getters" class="sidebar-link">Getters</a></li><li class="sidebar-sub-header"><a href="/api/04-generic-model.html#methods" class="sidebar-link">Methods</a></li></ul></li><li><a href="/api/05-generic-list.html" class="sidebar-link">Generic List</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/api/05-generic-list.html#properties" class="sidebar-link">Properties</a></li><li class="sidebar-sub-header"><a href="/api/05-generic-list.html#getters" class="sidebar-link">Getters</a></li><li class="sidebar-sub-header"><a href="/api/05-generic-list.html#methods" class="sidebar-link">Methods</a></li></ul></li><li><a href="/api/06-ready-api.html" class="sidebar-link">Ready API</a></li><li><a href="/api/07-enums.html" class="sidebar-link">Enums</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/api/08-CLI.html" class="sidebar-link">CLI</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/api/08-CLI.html#helios-init" class="sidebar-link">helios init</a></li><li class="sidebar-sub-header"><a href="/api/08-CLI.html#helios-check" class="sidebar-link">helios check</a></li><li class="sidebar-sub-header"><a href="/api/08-CLI.html#helios-rules" class="sidebar-link">helios rules</a></li><li class="sidebar-sub-header"><a href="/api/08-CLI.html#helios-gen-model" class="sidebar-link">helios gen-model</a></li></ul></li><li><a href="/api/09-dump.html" class="sidebar-link">__ignore__</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="generic-store"><a href="#generic-store" class="header-anchor">#</a> Generic Store</h1> <p>The Generic Store is the global object that holds a Model Definition.
The only purpose of the Generic Store is to store Database instance so that we can use it in other places.
Please refer to Database to see why we need this global object in the first place.</p> <h2 id="instance-constructor"><a href="#instance-constructor" class="header-anchor">#</a> Instance Constructor</h2> <h3 id="generic-store-2"><a href="#generic-store-2" class="header-anchor">#</a> Generic Store</h3> <ul><li><strong><code>constructor( templatePath, modelDefinition, options = {} ) ⇒ GenericStore</code></strong></li></ul> <p>Creates a new generic store.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> post <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GenericStore</span><span class="token punctuation">(</span>
  <span class="token string">'/post/*'</span><span class="token punctuation">,</span>
  postModelDefinition
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="generic-store-constructor-options"><a href="#generic-store-constructor-options" class="header-anchor">#</a> Generic Store Constructor Options</h3> <h4 id="templatepath"><a href="#templatepath" class="header-anchor">#</a> templatePath</h4> <ul><li>type: <code>string</code></li></ul> <div class="custom-block warning"><p class="custom-block-title">Work in Progress (20/1/2020)</p> <p>This section is still a work in progress. It will be updated soon.</p></div> <h4 id="modeldefinition"><a href="#modeldefinition" class="header-anchor">#</a> modelDefinition</h4> <ul><li>type: <code>Object (ModelDefinition)</code></li></ul> <div class="custom-block warning"><p class="custom-block-title">Work in Progress (20/1/2020)</p> <p>This section is still a work in progress. It will be updated soon.</p></div> <h4 id="options"><a href="#options" class="header-anchor">#</a> options</h4> <ul><li>type: <code>Object</code></li></ul> <div class="custom-block warning"><p class="custom-block-title">Work in Progress (20/1/2020)</p> <p>This section is still a work in progress. It will be updated soon.</p></div> <table><thead><tr><th>Option</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>uidMethod</td> <td><code>string</code></td> <td>See <a href="./00-database#UIDMethod">UIDMethod</a></td></tr> <tr><td>defaultDeleteMode</td> <td><code>string</code></td> <td>deleteMode.SOFT or deleteMode.HARD (default), see <a href="./00-database#DeleteMode">deleteMode</a></td></tr> <tr><td>additionalProps</td> <td><code>array&lt;string&gt;</code></td> <td>Additional properties</td></tr></tbody></table> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> post <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GenericStore</span><span class="token punctuation">(</span>
  <span class="token string">'/post/*'</span><span class="token punctuation">,</span>
  postModelDefinition<span class="token punctuation">,</span>
  <span class="token punctuation">{</span> 
    uidMethod<span class="token punctuation">:</span> UIDMethod<span class="token punctuation">.</span><span class="token constant">TIMESTAMP</span><span class="token punctuation">,</span>
    defaultDeleteMode<span class="token punctuation">:</span> deleteMode<span class="token punctuation">.</span><span class="token constant">HARD</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="instance-properties"><a href="#instance-properties" class="header-anchor">#</a> Instance Properties</h2> <h3 id="name"><a href="#name" class="header-anchor">#</a> name</h3> <ul><li><strong><code>name ⇒ String</code></strong></li></ul> <p>Returns store name. This is automatically set based on the export name in the
model <code>config.js</code>.</p> <h3 id="templatepath-2"><a href="#templatepath-2" class="header-anchor">#</a> templatePath</h3> <ul><li><strong><code>templatePath ⇒ String</code></strong></li></ul> <p>Returns template path, e.g. <code>/user/{userId}/example/*</code>.</p> <h3 id="modeldefinition-2"><a href="#modeldefinition-2" class="header-anchor">#</a> modelDefinition</h3> <ul><li><strong><code>modelDefinition ⇒ ModelDefinition</code></strong></li></ul> <p>Returns model definition.</p> <h3 id="isabstract"><a href="#isabstract" class="header-anchor">#</a> isAbstract</h3> <ul><li><strong><code>isAbstract ⇒ Boolean</code></strong></li></ul> <p>Returns if the store was defined as abstract store. Abstract stores provide
abstraction by allowing you to define stores, that don't write or read data
from the database.</p> <h3 id="issuffixed"><a href="#issuffixed" class="header-anchor">#</a> isSuffixed</h3> <ul><li><strong><code>isSuffixed ⇒ Boolean</code></strong></li></ul> <p>Returns if the store is suffixed, which means that the id is not last item
in the template path.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> example1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GenericStore</span><span class="token punctuation">(</span><span class="token string">'/user/*'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> example2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GenericStore</span><span class="token punctuation">(</span><span class="token string">'/user/*/settings'</span><span class="token punctuation">)</span>

example1<span class="token punctuation">.</span>isSuffixed <span class="token comment">// &gt; false</span>
example2<span class="token punctuation">.</span>isSuffixed <span class="token comment">// &gt; true</span>
</code></pre></div><h3 id="isreadonly"><a href="#isreadonly" class="header-anchor">#</a> isReadonly</h3> <ul><li><strong><code>isReadonly ⇒ Boolean</code></strong></li></ul> <p>Returns if the store is a read-only store (all 'write methods' are removed from the Generic Store instance).</p> <h3 id="definedprops"><a href="#definedprops" class="header-anchor">#</a> definedProps</h3> <ul><li><strong><code>definedProps ⇒ Object&lt;string: string&gt;</code></strong></li></ul> <p>Returns an object of defined properties.</p> <div class="language-js extra-class"><pre class="language-js"><code>example<span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span><span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token string">'a'</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token string">'b'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>definedProps
<span class="token comment">// &gt; { x: 'a', y: 'b' }</span>
</code></pre></div><h3 id="additionalprops"><a href="#additionalprops" class="header-anchor">#</a> additionalProps</h3> <ul><li><strong><code>additionalProps ⇒ Array&lt;string&gt;</code></strong></li></ul> <p>Returns an array of additional path properties. Additional properties can be
used to define properties that are not part of the <code>templatePath</code>.
See constructor.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> contact <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GenericStore</span><span class="token punctuation">(</span>
  <span class="token string">&quot;/user/{myUserId}/contacts/*&quot;</span><span class="token punctuation">,</span>
  contactModelDefinition<span class="token punctuation">,</span>
  <span class="token punctuation">{</span> additionalProps<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'otherUserId'</span><span class="token punctuation">]</span> <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Now myUserId and otherUserId can be used as path property</span>
example<span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span><span class="token punctuation">{</span> myUserId<span class="token punctuation">:</span> <span class="token string">'a'</span><span class="token punctuation">,</span> otherUserId<span class="token punctuation">:</span> <span class="token string">'b'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>definedProps
</code></pre></div><h3 id="uidmethod"><a href="#uidmethod" class="header-anchor">#</a> uidMethod</h3> <ul><li><strong><code>uidMethod ⇒ UIDMethod</code></strong></li></ul> <p>Returns the unique id method, which defined how id's for new entries are generated.
See <a href="/api/00-database.html#UIDMethod">UIDMethod</a>.</p> <h3 id="defaultdeletemode"><a href="#defaultdeletemode" class="header-anchor">#</a> defaultDeleteMode</h3> <ul><li><strong><code>defaultDeleteMode ⇒ DeleteMode</code></strong></li></ul> <p>Returns the default delete mode. See <a href="/api/00-database.html#DeleteMode">DeleteMode</a>.</p> <h3 id="path"><a href="#path" class="header-anchor">#</a> path</h3> <ul><li><strong><code>get path() ⇒ string</code></strong></li></ul> <p>Returns a substituted path based on the template string and defined path properties.
Automatically sets user Id if not defined.</p> <h3 id="parentref"><a href="#parentref" class="header-anchor">#</a> parentRef</h3> <ul><li><strong><code>get parentRef() ⇒ Reference</code></strong></li></ul> <p>Returns Firebase Database Reference to collection that contains all items.</p> <h3 id="rootref"><a href="#rootref" class="header-anchor">#</a> rootRef</h3> <ul><li><strong><code>get rootRef() ⇒ Reference</code></strong></li></ul> <p>Return Firebase Database Reference to root of database.</p> <h3 id="childref"><a href="#childref" class="header-anchor">#</a> childRef</h3> <ul><li><strong><code>childRef( id: string ) ⇒ Reference</code></strong></li></ul> <p>Returns Firebase Realtime Database Reference to child with given <code>id</code>.</p> <h3 id="schema-required-fields"><a href="#schema-required-fields" class="header-anchor">#</a> schema_required_fields</h3> <ul><li><strong><code>get schema_required_fields() ⇒ array&lt;string&gt;</code></strong></li></ul> <p>Returns all required fields defined in the schema.</p> <h3 id="schema-optional-fields"><a href="#schema-optional-fields" class="header-anchor">#</a> schema_optional_fields</h3> <ul><li><strong><code>get schema_optional_fields() ⇒ array&lt;string&gt;</code></strong></li></ul> <p>Returns all required fields defined in the schema.</p> <h3 id="schema-all-fields"><a href="#schema-all-fields" class="header-anchor">#</a> schema_all_fields</h3> <ul><li><strong><code>get schema_all_fields() ⇒ array&lt;string&gt;</code></strong></li></ul> <p>Returns all fields that are defined in the schema.</p> <h3 id="subscriptions-internal"><a href="#subscriptions-internal" class="header-anchor">#</a> subscriptions (internal)</h3> <ul><li><strong><code>get subscriptions() ⇒ array&lt;Subscrition&gt;</code></strong></li></ul> <p>Returns all subscriptions that were created by this store.</p> <h3 id="rules"><a href="#rules" class="header-anchor">#</a> rules</h3> <ul><li><strong><code>get rules() ⇒ string</code></strong></li></ul> <p>Return custom validation rules that can be used with Element UI. See: <a href="https://element.eleme.io/#/en-US/component/form#custom-validation-rules" target="_blank" rel="noopener noreferrer">Element UI Docs<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h2 id="instance-methods"><a href="#instance-methods" class="header-anchor">#</a> Instance Methods</h2> <h3 id="define"><a href="#define" class="header-anchor">#</a> define</h3> <ul><li><strong><code>define( object&lt;string:string&gt; ) ⇒ void</code></strong></li></ul> <p>Defines path properties for a store instance.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> task_session_list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GenericStore</span><span class="token punctuation">(</span>
  <span class="token string">'/project/{projectId}/user/{userId}/tasks/{taskId}/*'</span><span class="token punctuation">,</span>
  TaskSessionTypeDefinition
<span class="token punctuation">)</span><span class="token punctuation">;</span>

task_session_list<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  project<span class="token punctuation">:</span> <span class="token string">'KrZPg8N6THOisFz_T992Zg'</span><span class="token punctuation">,</span>
  userId<span class="token punctuation">:</span>  <span class="token string">'l1X8FPc7YtbftlC31frciInV3PU2'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// projectId and userId now always defined</span>
</code></pre></div><h3 id="with"><a href="#with" class="header-anchor">#</a> with</h3> <ul><li><strong><code>with( object&lt;string:string&gt; ) ⇒ GenericStore</code></strong></li></ul> <p>Defines path properties and returns a new store instance which now refers to
a sub path:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// template path: /project/{x}/post/{y}/comment/*</span>
example<span class="token punctuation">.</span><span class="token function">with</span><span class="token punctuation">(</span><span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token string">'a'</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token string">'b'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// A new entry is added to /project/a/post/b/comment/-Lw_jEwrxiM6d2fS0n2m</span>
</code></pre></div><h3 id="setname-internal"><a href="#setname-internal" class="header-anchor">#</a> setName (INTERNAL?)</h3> <ul><li><strong><code>setName( string ) ⇒ void</code></strong></li></ul> <p>Set stores name</p> <h3 id="generateid"><a href="#generateid" class="header-anchor">#</a> generateId</h3> <ul><li><strong><code>generateId() ⇒ string</code></strong></li></ul> <p>Generates a new unique identifier based on the selected method in the constructor.</p> <h3 id="reset"><a href="#reset" class="header-anchor">#</a> reset</h3> <ul><li><strong><code>reset( level: numeric ) ⇒ void</code></strong></li></ul> <p>Resets the template path to it's initial state, without substitutions.</p> <h2 id="instance-methods-writing"><a href="#instance-methods-writing" class="header-anchor">#</a> Instance Methods (Writing)</h2> <h3 id="add"><a href="#add" class="header-anchor">#</a> add</h3> <ul><li><strong><code>add( overwrite_data &lt;, new_id: string&gt; &lt;, options: object&gt; ) ⇒ Promise&lt;id: string&gt;</code></strong></li></ul> <p>Adds a new item to the database. Returns a promise, which will then resolve
to the id of the newly created item. <code>overwrite_data</code> is passed to the model
definition has a <code>create</code> function. If <code>new_id</code> is provided it will be used
as the id for the new entry. The UIDMethod is ignored. Valid options are:</p> <table><thead><tr><th>Option</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>directWrite</td> <td><code>boolean</code></td> <td>Don't pass <code>overwrite_data</code> to the <code>create</code> function of the model definition, but instead write the data directly to the database.</td></tr></tbody></table> <div class="language-js extra-class"><pre class="language-js"><code>$models<span class="token punctuation">.</span>example<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span> title<span class="token punctuation">:</span> <span class="token string">'Name'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// or</span>
$models<span class="token punctuation">.</span>example<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span> title<span class="token punctuation">:</span> <span class="token string">'Name'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">id</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="update"><a href="#update" class="header-anchor">#</a> update</h3> <ul><li><strong><code>update(id: string, data: object&lt;string: any&gt;) ⇒ Promise</code></strong></li></ul> <p>Update one or many fields. First argument is the id of the entry (the <code>*</code> in
the <code>templatePath</code>). Second argument is the data the should be updated. It
is possible to futher nest data with '/':</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Update single fields</span>
$models<span class="token punctuation">.</span>example<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> <span class="token punctuation">{</span> key<span class="token punctuation">:</span> <span class="token string">'value'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
$models<span class="token punctuation">.</span>user_settings<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token string">'address/zipcode'</span><span class="token punctuation">:</span> <span class="token number">12345</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Update multiple fields</span>
$models<span class="token punctuation">.</span>example<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> <span class="token punctuation">{</span> key1<span class="token punctuation">:</span> value1<span class="token punctuation">,</span> key2<span class="token punctuation">:</span> value2 <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="remove"><a href="#remove" class="header-anchor">#</a> remove</h3> <ul><li><strong><code>remove(id: string &lt;, soft_delete: DeleteMode&gt; ) ⇒ Promise</code></strong></li> <li><strong><code>remove(ids: array&lt;string&gt; &lt;, soft_delete: DeleteMode&gt; ) ⇒ Promise</code></strong></li></ul> <p>Deletes one or many an entry at the data location</p> <ul><li><code>id</code> - id the item or arrary of ids of items that should be deleted</li> <li><code>soft_delete</code> - optional: Overwrite default behaviour for delete mode</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>$models<span class="token punctuation">.</span>example<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>
$models<span class="token punctuation">.</span>example<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token comment">// Soft delete</span>
$models<span class="token punctuation">.</span>example<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">[</span>id1<span class="token punctuation">,</span> id2<span class="token punctuation">,</span> id3<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token comment">// Delete list of entries</span>
</code></pre></div><h3 id="reorder"><a href="#reorder" class="header-anchor">#</a> reorder</h3> <ul><li><strong><code>reorder(sortidxList: object&lt;string: string&gt; &lt;, options = {}&gt;) ⇒ Promise</code></strong></li> <li><strong><code>reorder(sortidxList: array&lt;string&gt; &lt;, options = {}&gt;) ⇒ Promise</code></strong></li></ul> <p>Change the order of items. This is achieved through a special field called <code>sortidx</code>.
</p> <ul><li><code>sortidxList</code> - Batch should be an array or array of objects</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>$models<span class="token punctuation">.</span>example<span class="token punctuation">.</span><span class="token function">reorder</span><span class="token punctuation">(</span><span class="token punctuation">[</span> id1<span class="token punctuation">,</span> id2<span class="token punctuation">,</span> <span class="token operator">...</span> <span class="token punctuation">]</span><span class="token punctuation">)</span>
$models<span class="token punctuation">.</span>example<span class="token punctuation">.</span><span class="token function">reorder</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span> id<span class="token punctuation">:</span> id1<span class="token punctuation">,</span> sortidx<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> id<span class="token punctuation">:</span> id2 sortidx<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>Passing an object as first argument is especially useful, when passing an
existing collection of items.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// TODO</span>
<span class="token comment">// ...</span>
$models<span class="token punctuation">.</span>example<span class="token punctuation">.</span><span class="token function">reorder</span><span class="token punctuation">(</span>updated_commitment_list<span class="token punctuation">)</span>
</code></pre></div><h3 id="restore"><a href="#restore" class="header-anchor">#</a> restore</h3> <ul><li><strong><code>restore( id ) ⇒ Promise</code></strong></li></ul> <p>Restores a deleted entry at the data location (the <code>deleted</code> field is set to false).</p> <div class="language-js extra-class"><pre class="language-js"><code>$models<span class="token punctuation">.</span>example<span class="token punctuation">.</span><span class="token function">restore</span><span class="token punctuation">(</span><span class="token string">'-Lw_jEwrxiM6d2fS0n2m'</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="copy"><a href="#copy" class="header-anchor">#</a> copy</h3> <ul><li><strong><code>copy(id, contextA, contextB) ⇒ Promise</code></strong></li></ul> <p>Copy data between nodes (same as move, but keeps original and generates new id)</p> <ul><li><code>id</code> (string) - id of source object</li> <li><code>contextA</code> (object) - props of the source path</li> <li><code>contextB</code> (object) - props of the destination path</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// copy a task from /user/A/task/234 to /user/B/task/234</span>
$models<span class="token punctuation">.</span>task<span class="token punctuation">.</span><span class="token function">copy</span><span class="token punctuation">(</span><span class="token string">'234'</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> userId<span class="token punctuation">:</span> <span class="token string">'A'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> userId<span class="token punctuation">:</span> <span class="token string">'B'</span> <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// copy a comment from /user/A/task/234/comment/789 to /user/B/task/234/comment/789</span>
$models<span class="token punctuation">.</span>comment<span class="token punctuation">.</span><span class="token function">copy</span><span class="token punctuation">(</span><span class="token number">789</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> userId<span class="token punctuation">:</span> <span class="token string">'A'</span><span class="token punctuation">,</span> taskId<span class="token punctuation">:</span> <span class="token number">234</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> userId<span class="token punctuation">:</span> <span class="token string">'B'</span><span class="token punctuation">,</span> taskId<span class="token punctuation">:</span> <span class="token number">234</span> <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="move"><a href="#move" class="header-anchor">#</a> move</h3> <ul><li><strong><code>move(id, contextA, contextB, { keepOriginal = false, keepId = true } = {}) ⇒ Promise</code></strong></li></ul> <p>Move data between nodes</p> <ul><li><code>id</code>: {string} - Id of the object that should be moved</li> <li><code>contextA</code>: {object} - props of the source path</li> <li><code>contextB</code>: {object} - props of the destination path</li> <li><code>options</code>: Options</li></ul> <table><thead><tr><th>Option</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>keepOriginal</td> <td><code>boolean</code></td> <td>Keep original? (copy)</td></tr> <tr><td>keepId</td> <td><code>boolean</code></td> <td>Keep original id or generate a new id?</td></tr></tbody></table> <div class="language-js extra-class"><pre class="language-js"><code>$models<span class="token punctuation">.</span>example<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token number">234</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> userId<span class="token punctuation">:</span> <span class="token string">'A'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> userId<span class="token punctuation">:</span> <span class="token string">'B'</span> <span class="token punctuation">}</span>
<span class="token punctuation">)</span>
<span class="token comment">// or</span>
$models<span class="token punctuation">.</span>example<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span>
  <span class="token punctuation">{</span> userId<span class="token punctuation">:</span> <span class="token string">'A'</span><span class="token punctuation">,</span> taskId<span class="token punctuation">:</span> <span class="token number">234</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> userId<span class="token punctuation">:</span> <span class="token string">'B'</span><span class="token punctuation">,</span> taskId<span class="token punctuation">:</span> <span class="token number">234</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> keepOriginal<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> keepId<span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span>
<span class="token punctuation">)</span>
</code></pre></div> <h3 id="transaction"><a href="#transaction" class="header-anchor">#</a> transaction</h3> <ul><li><strong><code>transaction( id: string, prop: string, transaction: string, value: numeric ) ⇒ Promise</code></strong></li></ul> <p>Performs a transaction on the realtime database.
</p> <ul><li><code>id</code>: {string} - Id of the object that should be moved</li> <li><code>prop</code>: {string} - props of the source path</li> <li><code>transaction</code>: {string|function} - Predefined transaction are <code>inc</code> and <code>dec</code>. Alternatively a callback can be passed.</li> <li><code>value</code>: If <code>inc</code> or <code>dec</code> are used this defines by which amount a field is
incremented or decremented. Default value is <code>1</code>.</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>$models<span class="token punctuation">.</span>example<span class="token punctuation">.</span><span class="token function">transaction</span><span class="token punctuation">(</span> <span class="token operator">&lt;</span>childId<span class="token operator">&gt;</span><span class="token punctuation">,</span> <span class="token operator">&lt;</span>prop<span class="token operator">&gt;</span><span class="token punctuation">,</span> <span class="token operator">&lt;</span>transaction<span class="token operator">&gt;</span> <span class="token punctuation">)</span>
$models<span class="token punctuation">.</span>example<span class="token punctuation">.</span><span class="token function">transaction</span><span class="token punctuation">(</span> id<span class="token punctuation">,</span> <span class="token string">'coins'</span><span class="token punctuation">,</span> <span class="token parameter">coins</span> <span class="token operator">=&gt;</span> coins <span class="token operator">*</span> <span class="token number">2</span> <span class="token punctuation">)</span>
$models<span class="token punctuation">.</span>example<span class="token punctuation">.</span><span class="token function">transaction</span><span class="token punctuation">(</span> id<span class="token punctuation">,</span> <span class="token string">'coins'</span><span class="token punctuation">,</span> <span class="token string">'inc'</span><span class="token punctuation">,</span> <span class="token number">100</span> <span class="token punctuation">)</span>
$models<span class="token punctuation">.</span>example<span class="token punctuation">.</span><span class="token function">transaction</span><span class="token punctuation">(</span> id<span class="token punctuation">,</span> <span class="token string">'coins'</span><span class="token punctuation">,</span> <span class="token string">'inc'</span> <span class="token punctuation">)</span> <span class="token comment">// default: increment by 1</span>
</code></pre></div><h3 id="new"><a href="#new" class="header-anchor">#</a> new</h3> <ul><li><strong><code>new() ⇒ GenericModel</code></strong></li></ul> <p>Create empty model from schema (without calling create function)
</p> <h3 id="new-from-template"><a href="#new-from-template" class="header-anchor">#</a> new_from_template</h3> <ul><li><strong><code>new_from_template( data: object&lt;string:any&gt; &lt;, optional_data&lt;string:any&gt;&gt; ) ⇒ GenericModel</code></strong></li></ul> <p>Create empty model from create function
</p> <h3 id="new-from-data-internal"><a href="#new-from-data-internal" class="header-anchor">#</a> new_from_data (INTERNAL)</h3> <ul><li><strong><code>new_from_data( data: object&lt;string:any&gt; &lt;, make_dirty:boolean&gt; ) ⇒ GenericModel</code></strong></li></ul> <h3 id="empty"><a href="#empty" class="header-anchor">#</a> empty</h3> <ul><li><strong><code>empty( data: object&lt;string:any&gt; &lt;, optional_data&lt;string:any&gt;&gt; ) ⇒ object&lt;string:any&gt;</code></strong></li></ul> <p>Create empty payload from <code>schema.create()</code>. This method WILL only create
an Object, not a GenericModel. In most cases, you want to use
<code>new_from_template</code> instead</p> <h2 id="instance-methods-reading"><a href="#instance-methods-reading" class="header-anchor">#</a> Instance Methods (Reading)</h2> <h3 id="subscribelist"><a href="#subscribelist" class="header-anchor">#</a> subscribeList</h3> <ul><li><strong><code>subscribeList( &lt;idList: array&lt;string&gt;&gt; &lt;, option:object&gt;) ⇒ GenericList</code></strong></li></ul> <div class="custom-block warning"><p class="custom-block-title">Work in Progress (20/1/2020)</p> <p>This section is still a work in progress. It will be updated soon.</p></div> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">return</span> $models<span class="token punctuation">.</span>example<span class="token punctuation">.</span><span class="token function">subscribeList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> $models<span class="token punctuation">.</span>example<span class="token punctuation">.</span><span class="token function">subscribeList</span><span class="token punctuation">(</span><span class="token punctuation">[</span> id1<span class="token punctuation">,</span> id2<span class="token punctuation">,</span> id3 <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div> <h3 id="subscribenode"><a href="#subscribenode" class="header-anchor">#</a> subscribeNode</h3> <ul><li><strong><code>subscribeNode( &lt;id: string&gt; &lt;, option:object&gt;) ⇒ GenericModel</code></strong></li></ul> <div class="custom-block warning"><p class="custom-block-title">Work in Progress (20/1/2020)</p> <p>This section is still a work in progress. It will be updated soon.</p></div> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">return</span> $models<span class="token punctuation">.</span>example<span class="token punctuation">.</span><span class="token function">subscribeNode</span><span class="token punctuation">(</span> id <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div> <ul><li>noSync = Return from cache</li></ul> <h3 id="subscribequery"><a href="#subscribequery" class="header-anchor">#</a> subscribeQuery</h3> <ul><li><strong><code>subscribeQuery( &lt;query:QueryDefinition&gt; &lt;, option:object&gt;) ⇒ GenericList</code></strong></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">subscribeQuery</span><span class="token punctuation">(</span>query<span class="token punctuation">,</span> options <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><table><thead><tr><th>Option</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>key</td> <td><code>string</code></td> <td>'*' or undefined</td></tr> <tr><td>value</td> <td><code>any</code></td> <td></td></tr> <tr><td>limit</td> <td><code>numeric</code></td> <td></td></tr> <tr><td>startAt</td> <td><code>string</code></td> <td></td></tr> <tr><td>endAt</td> <td><code>string</code></td> <td></td></tr></tbody></table> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$models<span class="token punctuation">.</span>example<span class="token punctuation">.</span><span class="token function">subscribeQuery</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  key<span class="token punctuation">:</span> <span class="token string">'createdAt'</span><span class="token punctuation">,</span>
  startAt<span class="token punctuation">:</span> <span class="token number">123456789</span><span class="token punctuation">,</span>
  limit<span class="token punctuation">:</span> <span class="token number">100</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="fetchlist"><a href="#fetchlist" class="header-anchor">#</a> fetchList</h3> <ul><li><strong><code>fetchList( &lt;option:object&gt; ) ⇒ GenericList</code></strong></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">fetchList</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  noReactiveGetter <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token comment">// customRef = null,</span>
  queryParams <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="fetchnode"><a href="#fetchnode" class="header-anchor">#</a> fetchNode</h3> <ul><li><strong><code>fetchNode( &lt;id:string&gt;, &lt;option:object&gt; ) ⇒ GenericModel</code></strong></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">fetchNode</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> <span class="token punctuation">{</span> noReactiveGetter <span class="token operator">=</span> <span class="token boolean">false</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="fetchquery"><a href="#fetchquery" class="header-anchor">#</a> fetchQuery</h3> <ul><li><strong><code>fetchQuery( &lt;query:QueryDefinition&gt; &lt;, option:object&gt; ) ⇒ GenericList</code></strong></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">fetchQuery</span><span class="token punctuation">(</span>query<span class="token punctuation">,</span> options<span class="token punctuation">)</span>
</code></pre></div><hr> <h3 id="getlist"><a href="#getlist" class="header-anchor">#</a> getList</h3> <ul><li><strong><code>getList( &lt;idList:array&lt;string&gt;&gt; &lt;, option:object&gt;) ⇒ GenericList</code></strong></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">getList</span><span class="token punctuation">(</span> idList<span class="token punctuation">,</span> <span class="token punctuation">{</span> noReactiveGetter <span class="token operator">=</span> <span class="token boolean">false</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">)</span>
</code></pre></div><h3 id="getnode"><a href="#getnode" class="header-anchor">#</a> getNode</h3> <ul><li><strong><code>getNode( &lt;id:string&gt; &lt;, option:object&gt;) ⇒ GenericModel</code></strong></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">getNode</span><span class="token punctuation">(</span> id<span class="token punctuation">,</span> <span class="token punctuation">{</span> noReactiveGetter <span class="token operator">=</span> <span class="token boolean">false</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">)</span>
</code></pre></div><h3 id="getdata"><a href="#getdata" class="header-anchor">#</a> getData</h3> <ul><li><strong><code>getData( &lt;id:string&gt; &lt;, option:object&gt;) ⇒ Object&lt;string:any&gt;</code></strong></li></ul> <p>Get raw state from registry.</p> <ul><li>getData() -&gt; get reference to list of data</li> <li>getData(child_id) -&gt; get reference to an item in the list</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">getData</span><span class="token punctuation">(</span>id <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> safe <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> list <span class="token operator">=</span> $models<span class="token punctuation">.</span>example<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> $models<span class="token punctuation">.</span>example<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token string">'234'</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="exists"><a href="#exists" class="header-anchor">#</a> exists</h3> <ul><li><strong><code>exists( &lt;id:string&gt; ) ⇒ boolean</code></strong></li></ul> <div class="custom-block warning"><p class="custom-block-title">Work in Progress (20/1/2020)</p> <p>This section is still a work in progress. It will be updated soon.</p></div> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">exists</span><span class="token punctuation">(</span>id <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="getregistrystate"><a href="#getregistrystate" class="header-anchor">#</a> getRegistryState</h3> <ul><li><strong><code>getRegistryState() =&gt; object</code></strong></li></ul> <div class="custom-block warning"><p class="custom-block-title">Work in Progress (20/1/2020)</p> <p>This section is still a work in progress. It will be updated soon.</p></div> <h3 id="getallsyncedpaths"><a href="#getallsyncedpaths" class="header-anchor">#</a> getAllSyncedPaths</h3> <ul><li><strong><code>getAllSyncedPaths() =&gt; object&lt;string:string&gt;</code></strong></li></ul> <div class="custom-block warning"><p class="custom-block-title">Work in Progress (20/1/2020)</p> <p>This section is still a work in progress. It will be updated soon.</p></div> <h2 id="static-methods"><a href="#static-methods" class="header-anchor">#</a> Static Methods</h2> <h3 id="defaultuserid"><a href="#defaultuserid" class="header-anchor">#</a> defaultUserId</h3> <ul><li><strong><code>set defaultUserId( value: string )</code></strong></li></ul> <p>Sets the default user Id. If set, any <code>{uid}</code> or <code>{userId}</code> will
automatically get substituted with the default user Id.</p> <div class="language-js extra-class"><pre class="language-js"><code>GenericStore<span class="token punctuation">.</span>defaultUserId <span class="token operator">=</span> <span class="token string">'Qz3p2fpvTyeje5As3WDfgQtTCEK2'</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><strong><code>get defaultUserId() ⇒ string</code></strong></li></ul> <p>Returns the default UserId for all stores</p> <p>A good time to set the user id is after the user has been authenticated:</p> <div class="language-js extra-class"><pre class="language-js"><code>firebase<span class="token punctuation">.</span><span class="token function">auth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">onAuthStateChanged</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">user</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// User authenticated and is signed in</span>
    GenericStore<span class="token punctuation">.</span>defaultUserId <span class="token operator">=</span> user<span class="token punctuation">.</span>uid<span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// User was signed in and now signed out</span>
    GenericStore<span class="token punctuation">.</span><span class="token function">resetState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><strong><code>resetState() ⇒ void</code></strong></li></ul> <p>Reset stores. Should be called when the user logs out, in order to remove
any stored user information from the state.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/api/01-setup.html" class="prev">HeliosRX setup</a></span> <span class="next"><a href="/api/03-schema-definition.html">Model definition</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.9cea187b.js" defer></script><script src="/assets/js/2.966b6269.js" defer></script><script src="/assets/js/13.b7ff5118.js" defer></script>
  </body>
</html>
